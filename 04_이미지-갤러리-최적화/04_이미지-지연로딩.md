# 04. ì´ë¯¸ì§€ ì§€ì—°ë¡œë”©

> 3ì¥ì—ì„œ ì ìš©í•œ ì´ë¯¸ì§€ ì§€ì—°ë¡œë”©ì„ `react-lazyload`ë¼ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì´ìš©í•˜ì—¬ ì ìš©í•œë‹¤.

## ğŸ“Œ 4.1 ë¼ì´ë¸ŒëŸ¬ë¦¬ ì„¤ì¹˜

```bash
$ npm install --save react-lazyload
```

## ğŸ“Œ 4.2 ì‚¬ìš©ë²•

ë¼ì´ë¸ŒëŸ¬ë¦¬ ì„¤ì¹˜ í›„ ì§€ì—°ë¡œë”©ì„ ì ìš©í•˜ê³  ì‹¶ì€ ì»´í¬ë„ŒíŠ¸ ìƒìœ„ì— `LazyLoad`ë¥¼ ê°ì‹¼ë‹¤.

```javascript
import LazyLoad from "react-lazyload";

function Component() {
    return (
        <div>
            <LazyLoad>
                <img src="ì´ë¯¸ì§€ ì£¼ì†Œ">
            </LazyLoad>
        </div>
    );
}
```

- ìœ„ì™€ ê°™ì´ ì½”ë“œë¥¼ ì‘ì„±í•˜ë©´ ì´ë¯¸ì§€ ì§€ì—°ë¡œë”©ì´ ì ìš©ëœë‹¤.
  - í™”ë©´ì— í‘œì‹œë˜ê¸° ì „ê¹Œì§€ ë Œë”ë§ ë˜ì§€ ì•Šë‹¤ê°€, ìŠ¤í¬ë¡¤ì„ í†µí•´ í™”ë©´ì— ë“¤ì–´ì˜¤ëŠ” ìˆœê°„ ë¡œë“œëœë‹¤.
- **ì¤‘ìš”í•œ ê²ƒì€, í™”ë©´ì— í‘œì‹œë˜ì§€ ì•Šë‹¤ê°€ ì¼ë°˜ ì»´í¬ë„ŒíŠ¸ë„ ì§€ì—°ë¡œë”©ì„ ì ìš©í•  ìˆ˜ ìˆë‹¤.**
- `Intersection Observer API`ë¥¼ í™œìš©í•˜ëŠ” ê²ƒë³´ë‹¤ ê°„ë‹¨í•˜ë‹¤.

## ğŸ“Œ 4.3 ì ìš©í•˜ê¸°

```javascript
import React from "react";
import styled from "styled-components";
import { useDispatch } from "react-redux";
import { showModal } from "../redux/imageModal";
import LazyLoad from "react-lazyload";

function PhotoItem({ photo: { urls, alt } }) {
  const dispatch = useDispatch();

  const openModal = () => {
    dispatch(showModal({ src: urls.full, alt }));
  };

  return (
    <ImageWrap>
      <LazyLoad>
        <Image
          src={urls.small + "&t=" + new Date().getTime()}
          alt={alt}
          onClick={openModal}
        />
      </LazyLoad>
    </ImageWrap>
  );
}

const ImageWrap = styled.div`
  width: 100%;
  padding-top: 56.25%;
  position: relative;
`;

const Image = styled.img`
  cursor: pointer;
  width: 100%;
  position: absolute;
  height: 100%;
  top: 0;
  left: 0;
`;

export default PhotoItem;
```

- ë¹Œë“œ í›„ í…ŒìŠ¤íŠ¸í•´ë³´ë©´, ì´ë¯¸ì§€ ì§€ì—°ë¡œë”©ì´ ì ìš©ëœ ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.

### âœ… ì¥ì 

- ì´ˆê¸° í™”ë©´ì˜ ë¦¬ì†ŒìŠ¤ë¥¼ ì ˆì•½í•  ìˆ˜ ìˆë‹¤.

### âœ… ë‹¨ì 

- ìŠ¤í¬ë¡¤ì„ ë‚´ë ¤ í™”ë©´ì— ì´ë¯¸ì§€ê°€ ë“¤ì–´ì˜¬ ë•Œ ì´ë¯¸ì§€ë¥¼ ë¡œë“œí•˜ê¸° ë•Œë¬¸ì—, ì²˜ìŒì— ì´ë¯¸ì§€ê°€ ë³´ì´ì§€ ì•ŠëŠ”ë‹¤.
- ì‹œê°„ì´ ì§€ë‚˜ì•¼ ì´ë¯¸ì§€ê°€ ë³´ì¸ë‹¤.
- ì´ë¯¸ì§€ê°€ í™”ë©´ì— ë“¤ì–´ì˜¤ëŠ” ì‹œì ë³´ë‹¤ ì¡°ê¸ˆ ë” ë¯¸ë¦¬ ì´ë¯¸ì§€ë¥¼ ë¶ˆëŸ¬ì™€ ì¤€ë¹„ë˜ì–´ ìˆë„ë¡ ì„¤ì •í•œë‹¤.

## ğŸ“Œ 4.4 ê°œì„ 

> `offset` ì˜µì…˜ì„ ì´ìš©í•œë‹¤.

- `offset` ì˜µì…˜ì€, ì–¼ë§ˆë‚˜ ë¯¸ë¦¬ ì´ë¯¸ì§€ë¥¼ ë¡œë“œí• ì§€ í”½ì…€ ê°’ì„ ì„¤ì •í•  ìˆ˜ ìˆë‹¤.
- ê°€ë ¹ 1000pxë§Œí¼ ë¯¸ë¦¬ ë¡œë“œí•˜ê² ë‹¤ë©´, ì•„ë˜ì™€ ê°™ì´ propì„ ì„¤ì •í•œë‹¤.

```javascript
/* ìƒëµ */
  return (
    <ImageWrap>
      <LazyLoad offset={1000}>
        <Image
          src={urls.small + "&t=" + new Date().getTime()}
          alt={alt}
          onClick={openModal}
        />
      </LazyLoad>
    </ImageWrap>
  );
/* ìƒëµ /
```
